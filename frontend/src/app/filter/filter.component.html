<ng-container *ngIf="tags().length; else emptyState">
  <section class="filter-panel">
    <header class="filter-panel__header">
      <h3 id="filter-title">Filtern nach Tags</h3>
      <div class="filter-panel__meta">
        <span class="filter-panel__count">{{ selectedCount() }} von {{ tags().length }} ausgewählt</span>
        <button
          type="button"
          class="filter-panel__reset"
          (click)="resetFilters()"
          [disabled]="!selectedCount()"
        >
          Zurücksetzen
        </button>
      </div>
    </header>

    <div class="tag-grid" role="list">
      <label
        class="tag-chip"
        *ngFor="let tag of tags(); trackBy: trackByTagId"
        [class.tag-chip--checked]="isTagSelected(tag._id)"
        role="listitem"
      >
        <input
          type="checkbox"
          [checked]="isTagSelected(tag._id)"
          (change)="onChange($event, tag._id)"
          [attr.aria-checked]="isTagSelected(tag._id)"
        >
        <span class="tag-chip__content">
          <span class="tag-chip__label">{{ tag.name }}</span>
        </span>
      </label>
    </div>
  </section>
</ng-container>

<ng-template #emptyState>
  <section class="filter-panel filter-panel--empty">
    <p class="filter-empty">Noch keine Tags verfügbar.</p>
  </section>
</ng-template>
